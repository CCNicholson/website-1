
```{r include = FALSE}
library(dplyr)
library(stringr)
library(readr)
library(readxl)
knitr::opts_chunk$set(echo = TRUE, eval=FALSE)
```

# Purpose
This page provides download links, codebooks and data management files (where available) for a variety of data sets commonly used across courses I teach. There are two general categories of data sets, those that have been cleaned to an extent for analysis purposes, and those that are in their original state of disarray. 

# Cleaned data sets 
For use with courses: MATH315, MATH615, MATH 199- R Bootcamp. 
The code to read the data set into R is provided, along with a glimpse of the data and it's dimensions. 
**You must change the path to the data file to your specific path on your computer!**
Use this information to confirm that the data set you download and import into R matches this information. 

* [Depress](Depress_041616.txt) Tab delimited text file.  [Add info]
  More details on the origin and study design can be found in Practial Multivariate Analysis, 5th edition by Afifi, May and Clark.
  The [codebook](DepressCodebook.txt) can be downloaded using this link (same as the link at the bottom of the page).
```{r}
depress <- read.delim("C:/GitHub/Teaching/data/Depress_041616.txt", header=TRUE,sep="\t")
str(depress)
```

* [Lung](Lung_020716.txt) Tab-delimited text file. This data come from a study on chronic respiratory 
  disease and the effects of varoius types of smog on lung function of children and adults in the 
  Los Angeles area. More details on the origin and study design can be found in Practial 
  Multivariate Analysis, 5th edition by Afifi, May and Clark.
  The [codebook](LungCodebook.txt) can be downloaded using this link (same as the link at the bottom of the page).
```{r}
fev <- read.delim("C:/GitHub/Teaching/data/Lung_020716.txt", header=TRUE,sep="\t")
str(fev)
```


* [Physical Activity and BMI](PABMI.txt) Physical activity measured as the number of steps in thousands. 
```{r}
pabmi <- read.delim("C:/GitHub/Teaching/data/PABMI.txt", header=TRUE,sep="\t")
str(pabmi)
```

* [Index of Biotic integrity](IBI.txt). The index of biotic integrity (IBI) is a measure of the water quality 
in streams. IBI and land use measures for a collection of streams in the Ozark Highland ecoregion of Arkansas 
were collected as part of a study. This data contains the percent of the watershed that was forest, and the 
area of the watershed in square kilometers for streams in the original sample with watershed area less 
than or equal to 70km$^2$.
```{r}
qual <- read.delim("C:/GitHub/Teaching/data/ibi.txt", header=TRUE,sep="\t")
str(qual)
```

* [Arm Strength](ArmStrength.txt) 
```{r}
armstr <- read.delim("C:/GitHub/Teaching/data/ArmStrength.txt", header=TRUE,sep="\t")
str(armstr)
```


* [Download Times](DownloadTimes.txt) An experiment run by a student to detect if his internet speed varied
  across different times of the day. This tab-delimited data set contains two variables: `time` as a categorical
  time of day (Early, Evening, Late), and the time (in `sec`) it took to download a particular file. The file
  downloaded was the same each time to the same computer. 
```{r}
dt <- read.delim("C:/Github/Teaching/data/DownloadTimes.txt", header=TRUE, sep="\t")
str(dt)
```

* [Plants 2](plants2.txt) Amount of fresh and dry biomass four different species of plants under
  seven different levels of water. Similar to the PLANTS1 data sets. There are 4 plants per 
  species-by-water combination.
```{r}
plants2 <- read.delim("C:/Github/Teaching/data/plants2.txt", sep="\t", header=TRUE)
str(plants2)
```


* [Plants 1](plants1.txt) Percent of nitrogen in four different species of plants grown in a laboratory. 
  Researchers who collected these data in parts of the country where there is very little rainfall. 
  The amount of water administered per day ranged from 50mm to 650mm in 100mm increments. There are 9 
  plants per species-by-water combination.
```{r}
plants1 <- read.delim("C:/Github/Teaching/data/plants1.txt", sep="\t", header=TRUE)
str(plants1)
```


* [Full moon on Dementia](dementia_moon.txt) A study observed 15 nursing home patients with dementia 
  and recorded the number of aggressive incidents each day for 12 weeks. Then they totaled the counts 
  of aggressive incidents per patient on "moon" days (full moon +/-1 day) and "other" days. 
```{r}
moon <- read.delim("C:/Github/Teaching/data/dementia_moon.txt", sep="\t", header=TRUE)
str(moon)
```


* [Directed Reading Activities](directed_reading.csv) Degree of Reading Power test scores for third-graders
  involved in an intervention study aiming improve reading ability of students. 
  
```{r}
DRP <- read.csv("C:/Github/Teaching/data/directed_reading.csv")
str(DRP)
```
  
* [High School and Beyond](hsb2.txt). The High School and Beyond (HS&B) Longitudinal Study was the second
  study conducted as part of NCES' National Longitudinal Studies Program. This program was established to 
  study the educational, vocational, and personal development of young people, beginning with their 
  elementary or high school years and following them over time as they take on adult roles and responsibilities. 
  http://nces.ed.gov/statprog/handbook/pdf/hsb.pdf 
  
```{r}
hsb2 <- read.delim("C:/Github/Teaching/data/hsb2.txt", sep="\t")
str(hsb2)
```


* [Age at Marriage](ageAtMar.txt). Age at first marriage of 5,534 US women who responded to the National
   Survey of Family Growth (NSFG) conducted by the CDC in the 2006 and 2010 cycle. 
   http://www.cdc.gov/nchs/nsfg/nsfg_2006_2010_puf.htm

```{r}
age <- read.csv("C:/Github/Teaching/data/ageAtMar.txt", sep="")
head(age)
```

* [Ames](ames.csv): All residential home sales in Ames, Iowa between 2006 and 2010. The data set 
  contains many explanatory variables on the quality and quantity of physical attributes of 
  residential homes in Iowa sold between 2006 and 2010. Most of the variables describe information a 
  typical home buyer would like to know about a property (square footage, number of bedrooms and 
  bathrooms, size of lot, etc.). A detailed discussion of variables can be found in the original 
  paper: _De Cock D. 2011. Ames, Iowa: Alternative to the Boston Housing Data as an End of Semester 
  Regression Project. Journal of Statistics Education; 19(3)_.
```{r}
ames <- read.csv("C:/Github/Teaching/data/ames.csv", header=TRUE)
str(ames)
```
* [Police Shootings](WashPost Police Shootings 2015.xlsx): Excel file on police shootings in 2015 as compiled
  by the Washington Post. Data downloaded from https://github.com/washingtonpost/data-police-shootings on 9/11/16. 
```{r}
washpost <- read_excel("C:/GitHub/Teaching/data/WashPost Police Shootings 2015.xlsx")
str(washpost)
```

* [countyComplete](countyComplete.csv): Characteristics of different counties in the United States. 
  Information on this data set can be found in the full [Open Intro Data Codebook](Open Intro Data Codebook.pdf). 
  Just search for the data set name. 
```{r}
county <- read.csv("C:/GitHub/Teaching/data/countyComplete.csv", header=TRUE, stringsAsFactors = FALSE)
str(county)
```

* [email](email.txt): **Right Click and select `save link as` to save this file to your class folder.**
  These data represent incoming emails for the first three months of 2012 for David Diez's 
  (_An Open Intro Statistics Textbook author_) Gmail Account, early months of 2012. 
  All personally identifiable information has been removed. [Email Codebook](EmailCodebook.pdf)
```{r}
email <- read.delim("C:/GitHub/Teaching/data/email.txt", header=TRUE, stringsAsFactors = FALSE, sep="\t")
str(email)
```

* [NCbirths](NCbirths.csv): Publicly released data on a random sample of births recorded in North Carolina in 2004.
  [Codebook](NCBirthsCodebook,pdf)
```{r}
ncbirths <- read.csv("C:/GitHub/Teaching/data/NCbirths.csv", header=TRUE, stringsAsFactors = FALSE)
str(ncbirths)
```


* [debt](debt.txt): The Organisation for Economic Co-operation and Development collects data on 
  the central government debt for many countries. This file set contains data from from 2005 to 2010. 
  
```{r}
debt <- read.delim("C:/GitHub/Teaching/data/debt.txt", header=TRUE, stringsAsFactors = FALSE, sep="\t")
str(debt)
```

* [ParentalHIV](PARHIV_090516.xlsx): Data collected as part of a clinical trial to evaluate 
behavioral interventions for families with a parent with HIV. The data include information 
on a subset of 252 adolescent children of parents with HIV. The [Codebook](ParhivCodebook.txt)
describes the variables and gives a brief description of their meaning. The data is owned by
by Dr. Mary Jane Rotheram-Borus, Professor of Psychology and Behavioral Sciences, Director of
the Center for Community Health, Neuropsychiatric Institute, UCLA and used with permission
in conjunction with the textbook Practical Multivariate Analysis by Afifi et.al. 
 
 
**Note this is an Excel file. It can be read in using the `read_excel` function, contained
in the `readxl` package.**
```{r}
parHIV <- read_excel("C:/GitHub/Teaching/data/PARHIV_090516.xlsx")
str(parHIV)
```

# Raw data with codebook and data management files. 
These data sets are used in courses that emphasize data management as well as analysis including
but not limited to MATH 456 (Applied Statistics II), MATH 398 (Intro to Data Science), and
498 (Advanced Data Science Topics)

```{r include = FALSE}
rawdat <- read_csv("Datasets.csv")

# location of files
cdat  <- rawdat %>% mutate(dataloc = filename, 
                           codeloc = codebook, 
                           dmloc   = dm,
                           Updated = format(file.info(dm)$mtime), "%m-%d-%y")

# Add link to the data file, codebook, data management code file
cdat2 <- cdat %>% mutate(File = paste('<a href="', cdat$dataloc, '">', cdat$filename, '</a>', sep=""), 
                         Codebook = ifelse(is.na(codebook), "-", paste('<a href="', codeloc, '">', codebook, '</a>', sep="")), 
                         `Data Management` = ifelse(is.na(dm), "-", paste('<a href="', dmloc, '">', dm, '</a>', sep="")), 
                         Notes = ifelse(is.na(Notes), "-",Notes),
                         Updated = ifelse(is.na(Updated), "-",Updated))

# Select vars to display
clean <- cdat2 %>% select(Data, File, Codebook, `Data Management`, Updated, Notes)

```

<!-- unholy hack to make following two tables less wide and the same wide -->
<style type="text/css">
table {
   max-width: 50%;
}
</style>
All data sets listed are in their raw format. Codebooks and data management
files are supplied as available. The **Last Updated** column represents the
last time the data management file was edited. You should ensure that
you always have the most up to date data management file. 

```{r results = 'asis', echo = FALSE}
knitr::kable(clean)
```
